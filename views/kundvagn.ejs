<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>scr = "Storage.js"</script>
    <title>Document</title>
</head>

<body>
        <fieldset>
            <legend>Shopping cart</legend>
            <label>Item: <input type="text" id="name"></label>
            <label>Quantity: <input type="text" id="data"></label>

            <button onclick="SaveItem()">Spara</button>
            <button onclick="RemoveItem()">ta bort</button>

        </fieldset>
        <div>
            <h2>Shopping List</h2>
            <table id="list"></table>
            <label><input type="button" value="Clear" onclick="ClearAll()">
                * Delete all items</label>
            <input type="button" value="Köp" id="Spara" onclick="SaveList()">
            <ul id="Visa_lista"></ul>
        </div>

        <script>
        const items = [];
        function SaveItem() {
            var sak = document.getElementById("name").value;
            var antal = document.getElementById("data").value;
            var allt = sak + " " + antal;

        if (allt) {
            items.push(allt);
            document.getElementById("Visa_lista").innerHTML = items;
        }
    }
        function SaveList(){
            var xhttp = new XMLHttpRequest();
                    var apa = document.getElementById("Visa_lista").textContent;
                    let json = JSON.stringify({
                        KöpListan: apa
                    });
                    xhttp.open("POST", "SparadeSaker", true)
                    xhttp.setRequestHeader('Content-type', 'application/json; charset=utf-8');
                    xhttp.send(json);
        }
        </script>

</body>


</html>